<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji Evolution</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Google+Sans+Code:wght@300;400;600;700;800&display=swap');
        
        body {
            margin: 0;
            padding: 0;
            background: radial-gradient(circle at 30% 20%, #1a0d26 0%, #0d0d0d 25%, #1a1a2e 50%, #0f0f23 75%, #000000 100%);
            background-size: 400% 400%;
            animation: quantumShift 8s ease-in-out infinite;
            color: white;
            font-family: 'Nunito', sans-serif;
            overflow: hidden;
            height: 100vh;
        }
        
        @keyframes quantumShift {
            0%, 100% { background-position: 0% 50%; }
            25% { background-position: 100% 50%; }
            50% { background-position: 50% 100%; }
            75% { background-position: 50% 0%; }
        }
        
        .universe {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }
        
        .emoji-entity {
            position: absolute;
            font-size: 32px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            user-select: none;
            z-index: 10;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.8));
        }
        
        .emoji-entity:hover {
            transform: scale(1.5) rotate(15deg);
            filter: drop-shadow(0 0 20px #fff) saturate(200%);
        }
        
        .quantum-trail {
            position: absolute;
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, #fff, transparent);
            border-radius: 50%;
            pointer-events: none;
            animation: trailFade 2s ease-out forwards;
        }
        
        @keyframes trailFade {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0); }
        }
        
        .control-panel {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            z-index: 100;
        }
        
        .stats-panel {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
            z-index: 100;
        }
        
        .quantum-button {
            background: linear-gradient(45deg, #2d3748, #4a5568);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 12px 20px;
            margin: 5px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .quantum-button:hover {
            transform: translateY(-2px) scale(1.05);
            background: linear-gradient(45deg, #4a5568, #718096);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
        }
        
        .quantum-button:active {
            transform: scale(0.95);
        }
        
        .evolution-log {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            padding: 15px;
            max-height: 150px;
            overflow-y: auto;
            border: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 12px;
            z-index: 100;
        }
        
        .log-entry {
            margin: 3px 0;
            padding: 2px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .log-entry:last-child {
            border-bottom: none;
        }
        
        .mutation {
            color: #ff6b9d;
            font-weight: bold;
        }
        
        .birth {
            color: #4ecdc4;
            font-weight: bold;
        }
        
        .death {
            color: #ff8a80;
            font-weight: bold;
        }
        
        .quantum-field {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 25% 25%, rgba(64, 0, 128, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(0, 64, 128, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(32, 0, 64, 0.15) 0%, transparent 50%);
            animation: quantumPulse 4s ease-in-out infinite;
        }
        
        @keyframes quantumPulse {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
        }
        
        .species-counter {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }
        
        .species-badge {
            background: rgba(45, 55, 72, 0.7);
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 18px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dimension-shift {
            animation: dimensionWarp 0.5s ease-in-out;
        }
        
        @keyframes dimensionWarp {
            0%, 100% { transform: scale(1) rotate(0deg); filter: hue-rotate(0deg); }
            50% { transform: scale(1.2) rotate(180deg); filter: hue-rotate(180deg); }
        }
    </style>
</head>
<body>
    <div class="universe" id="universe">
        <div class="quantum-field"></div>
        
        <div class="control-panel">
            <h3>👩🏻‍💻 Bingbang Control</h3>
            <button class="quantum-button" onclick="game.spawnRandomEmoji()">✨ Spawn Entity</button>
            <button class="quantum-button" onclick="game.quantumCollapse()">🌀 Collapse Wave</button>
            <button class="quantum-button" onclick="game.dimensionShift()">🔄 Shift Dimension</button>
            <button class="quantum-button" onclick="game.evolveAll()">🧬 Force Evolution</button>
            <button class="quantum-button" onclick="game.clearUniverse()">💥 Big Bang</button>
            
            <div style="margin-top: 15px;">
                <label>Mutation Rate: <span id="mutationRate">15</span>%</label><br>
                <input type="range" min="1" max="50" value="15" oninput="game.setMutationRate(this.value)">
            </div>
        </div>
        
        <div class="stats-panel">
            <h3>🧬 Universe Stats</h3>
            <div>Population: <span id="population">0</span></div>
            <div>Generation: <span id="generation">1</span></div>
            <div>Mutations: <span id="mutations">0</span></div>
            <div>Quantum Events: <span id="quantumEvents">0</span></div>
            
            <div class="species-counter" id="speciesCounter"></div>
        </div>
        
        <div class="evolution-log" id="evolutionLog">
            <div class="log-entry">🌟 Welcome to the Emoji Evolution Simulator!</div>
            <div class="log-entry">Click emojis to make them reproduce, or watch them evolve naturally...</div>
        </div>
    </div>

    <script>
        class QuantumEmojiGame {
            constructor() {
                this.entities = [];
                this.generation = 1;
                this.totalMutations = 0;
                this.quantumEvents = 0;
                this.mutationRate = 15;
                this.entityId = 0;
                
                // Bizarre emoji evolution tree
                this.emojiGenetics = {
                    '😀': { traits: ['happy'], evolves: ['😂', '😎', '🤩'], energy: 100 },
                    '😂': { traits: ['happy', 'chaotic'], evolves: ['🤣', '😈', '🤪'], energy: 120 },
                    '😎': { traits: ['cool', 'stable'], evolves: ['🕶️', '🌟', '💎'], energy: 90 },
                    '🤩': { traits: ['excited', 'energetic'], evolves: ['⭐', '🎉', '🚀'], energy: 140 },
                    '😈': { traits: ['chaotic', 'dark'], evolves: ['👹', '🔥', '⚡'], energy: 110 },
                    '🤪': { traits: ['crazy', 'unpredictable'], evolves: ['🌀', '🎭', '🦄'], energy: 130 },
                    '🌟': { traits: ['cosmic', 'bright'], evolves: ['✨', '🌌', '🔮'], energy: 150 },
                    '🚀': { traits: ['fast', 'ambitious'], evolves: ['🛸', '👽', '🌠'], energy: 160 },
                    '🔥': { traits: ['destructive', 'passionate'], evolves: ['💥', '🌋', '⚡'], energy: 140 },
                    '🦄': { traits: ['magical', 'rare'], evolves: ['🌈', '✨', '🦋'], energy: 200 },
                    '👽': { traits: ['alien', 'mysterious'], evolves: ['🛸', '👾', '🌌'], energy: 180 },
                    '🔮': { traits: ['mystical', 'prophetic'], evolves: ['🌀', '⭐', '🎭'], energy: 170 }
                };
                
                this.startQuantumLoop();
                this.spawnInitialEntities();
            }
            
            spawnInitialEntities() {
                const starters = ['😀', '😂', '😎'];
                for (let i = 0; i < 5; i++) {
                    this.spawnEmoji(starters[Math.floor(Math.random() * starters.length)]);
                }
            }
            
            spawnEmoji(emoji = null) {
                if (!emoji) {
                    const allEmojis = Object.keys(this.emojiGenetics);
                    emoji = allEmojis[Math.floor(Math.random() * allEmojis.length)];
                }
                
                const entity = {
                    id: this.entityId++,
                    emoji: emoji,
                    x: Math.random() * (window.innerWidth - 100) + 50,
                    y: Math.random() * (window.innerHeight - 200) + 100,
                    vx: (Math.random() - 0.5) * 2,
                    vy: (Math.random() - 0.5) * 2,
                    energy: this.emojiGenetics[emoji]?.energy || 100,
                    age: 0,
                    reproduced: false,
                    quantumState: Math.random(),
                    lastMutation: 0
                };
                
                this.entities.push(entity);
                this.createEmojiElement(entity);
                this.updateStats();
                
                this.log(`<span class="birth">🌟 ${emoji} materialized into existence!</span>`);
            }
            
            spawnRandomEmoji() {
                this.spawnEmoji();
            }
            
            createEmojiElement(entity) {
                const element = document.createElement('div');
                element.className = 'emoji-entity';
                element.textContent = entity.emoji;
                element.style.left = entity.x + 'px';
                element.style.top = entity.y + 'px';
                element.id = 'entity-' + entity.id;
                
                element.addEventListener('click', () => this.triggerReproduction(entity));
                
                document.getElementById('universe').appendChild(element);
            }
            
            triggerReproduction(entity) {
                if (entity.energy < 50) return;
                
                // Find nearby entities for breeding
                const nearby = this.entities.filter(other => 
                    other !== entity && 
                    Math.hypot(other.x - entity.x, other.y - entity.y) < 150
                );
                
                if (nearby.length > 0) {
                    const partner = nearby[Math.floor(Math.random() * nearby.length)];
                    this.reproduce(entity, partner);
                } else {
                    // Asexual reproduction with high mutation chance
                    this.mutate(entity);
                }
            }
            
            reproduce(parent1, parent2) {
                if (parent1.energy < 60 || parent2.energy < 60) return;
                
                parent1.energy -= 30;
                parent2.energy -= 30;
                parent1.reproduced = true;
                parent2.reproduced = true;
                
                // Create offspring with genetic mixing
                let childEmoji = parent1.emoji;
                
                if (Math.random() < this.mutationRate / 100) {
                    // Mutation - try to evolve
                    const genetics = this.emojiGenetics[parent1.emoji];
                    if (genetics && genetics.evolves.length > 0) {
                        childEmoji = genetics.evolves[Math.floor(Math.random() * genetics.evolves.length)];
                        this.totalMutations++;
                        this.log(`<span class="mutation">🧬 ${parent1.emoji} + ${parent2.emoji} → ${childEmoji} (MUTATION!)</span>`);
                    }
                } else if (Math.random() < 0.3) {
                    // Inherit from parent2
                    childEmoji = parent2.emoji;
                }
                
                // Spawn child near parents
                const childX = (parent1.x + parent2.x) / 2 + (Math.random() - 0.5) * 100;
                const childY = (parent1.y + parent2.y) / 2 + (Math.random() - 0.5) * 100;
                
                const child = {
                    id: this.entityId++,
                    emoji: childEmoji,
                    x: Math.max(50, Math.min(window.innerWidth - 100, childX)),
                    y: Math.max(100, Math.min(window.innerHeight - 200, childY)),
                    vx: (Math.random() - 0.5) * 3,
                    vy: (Math.random() - 0.5) * 3,
                    energy: (this.emojiGenetics[childEmoji]?.energy || 100) + Math.floor(Math.random() * 20),
                    age: 0,
                    reproduced: false,
                    quantumState: Math.random(),
                    lastMutation: 0
                };
                
                this.entities.push(child);
                this.createEmojiElement(child);
                this.updateStats();
                
                this.log(`<span class="birth">👶 ${parent1.emoji} + ${parent2.emoji} = ${childEmoji}</span>`);
            }
            
            mutate(entity) {
                const genetics = this.emojiGenetics[entity.emoji];
                if (!genetics || genetics.evolves.length === 0) return;
                
                const oldEmoji = entity.emoji;
                entity.emoji = genetics.evolves[Math.floor(Math.random() * genetics.evolves.length)];
                entity.energy = this.emojiGenetics[entity.emoji]?.energy || entity.energy;
                entity.lastMutation = this.generation;
                
                const element = document.getElementById('entity-' + entity.id);
                if (element) {
                    element.textContent = entity.emoji;
                    element.classList.add('dimension-shift');
                    setTimeout(() => element.classList.remove('dimension-shift'), 500);
                }
                
                this.totalMutations++;
                this.log(`<span class="mutation">⚡ ${oldEmoji} evolved into ${entity.emoji}!</span>`);
            }
            
            quantumCollapse() {
                // Random quantum event affects all entities
                this.quantumEvents++;
                
                this.entities.forEach(entity => {
                    entity.quantumState = Math.random();
                    
                    if (Math.random() < 0.3) {
                        // Quantum teleportation
                        entity.x = Math.random() * (window.innerWidth - 100) + 50;
                        entity.y = Math.random() * (window.innerHeight - 200) + 100;
                        this.createQuantumTrail(entity);
                    }
                    
                    if (Math.random() < 0.2) {
                        // Quantum energy burst
                        entity.energy += Math.floor(Math.random() * 50);
                    }
                    
                    if (Math.random() < 0.1) {
                        // Forced mutation
                        this.mutate(entity);
                    }
                });
                
                this.updatePositions();
                this.log(`<span style="color: #00ffff;">🌀 Quantum wave collapse affected the universe!</span>`);
            }
            
            dimensionShift() {
                // Shift all entities to new dimension (change their properties)
                this.generation++;
                
                this.entities.forEach(entity => {
                    entity.vx *= -1.5;
                    entity.vy *= -1.5;
                    entity.energy = Math.max(10, entity.energy + (Math.random() - 0.5) * 40);
                    
                    const element = document.getElementById('entity-' + entity.id);
                    if (element) {
                        element.classList.add('dimension-shift');
                        setTimeout(() => element.classList.remove('dimension-shift'), 500);
                    }
                });
                
                this.updateStats();
                this.log(`<span style="color: #ff6b9d;">🔄 Dimension ${this.generation} activated!</span>`);
            }
            
            evolveAll() {
                this.entities.forEach(entity => {
                    if (Math.random() < 0.4) {
                        this.mutate(entity);
                    }
                });
                this.log(`<span class="mutation">🧬 Forced evolution wave triggered!</span>`);
            }
            
            clearUniverse() {
                this.entities.forEach(entity => {
                    const element = document.getElementById('entity-' + entity.id);
                    if (element) element.remove();
                });
                
                this.entities = [];
                this.generation = 1;
                this.totalMutations = 0;
                this.quantumEvents = 0;
                this.entityId = 0;
                
                this.updateStats();
                this.log(`<span class="death">💥 Big Bang! Universe reset!</span>`);
                
                setTimeout(() => this.spawnInitialEntities(), 1000);
            }
            
            createQuantumTrail(entity) {
                for (let i = 0; i < 10; i++) {
                    setTimeout(() => {
                        const trail = document.createElement('div');
                        trail.className = 'quantum-trail';
                        trail.style.left = (entity.x + Math.random() * 40 - 20) + 'px';
                        trail.style.top = (entity.y + Math.random() * 40 - 20) + 'px';
                        document.getElementById('universe').appendChild(trail);
                        
                        setTimeout(() => trail.remove(), 2000);
                    }, i * 50);
                }
            }
            
            startQuantumLoop() {
                setInterval(() => {
                    this.updateEntities();
                    this.updatePositions();
                    this.naturalEvents();
                }, 100);
            }
            
            updateEntities() {
                this.entities = this.entities.filter(entity => {
                    entity.age++;
                    entity.energy -= 0.5;
                    
                    // Natural death
                    if (entity.energy <= 0 || entity.age > 1000) {
                        const element = document.getElementById('entity-' + entity.id);
                        if (element) element.remove();
                        this.log(`<span class="death">💀 ${entity.emoji} faded from existence...</span>`);
                        return false;
                    }
                    
                    // Random movement with quantum uncertainty
                    entity.vx += (Math.random() - 0.5) * 0.1;
                    entity.vy += (Math.random() - 0.5) * 0.1;
                    
                    // Boundary reflection
                    if (entity.x <= 0 || entity.x >= window.innerWidth - 50) entity.vx *= -0.8;
                    if (entity.y <= 50 || entity.y >= window.innerHeight - 100) entity.vy *= -0.8;
                    
                    entity.x = Math.max(0, Math.min(window.innerWidth - 50, entity.x + entity.vx));
                    entity.y = Math.max(50, Math.min(window.innerHeight - 100, entity.y + entity.vy));
                    
                    return true;
                });
                
                this.updateStats();
            }
            
            updatePositions() {
                this.entities.forEach(entity => {
                    const element = document.getElementById('entity-' + entity.id);
                    if (element) {
                        element.style.left = entity.x + 'px';
                        element.style.top = entity.y + 'px';
                        
                        // Quantum glow based on energy
                        const intensity = Math.min(entity.energy / 100, 2);
                        element.style.filter = `drop-shadow(0 0 ${10 * intensity}px rgba(255,255,255,${intensity * 0.8}))`;
                    }
                });
            }
            
            naturalEvents() {
                // Random natural reproduction
                if (Math.random() < 0.02 && this.entities.length > 1) {
                    const entity1 = this.entities[Math.floor(Math.random() * this.entities.length)];
                    const entity2 = this.entities[Math.floor(Math.random() * this.entities.length)];
                    if (entity1 !== entity2) {
                        this.reproduce(entity1, entity2);
                    }
                }
                
                // Quantum events
                if (Math.random() < 0.005) {
                    this.quantumCollapse();
                }
            }
            
            setMutationRate(rate) {
                this.mutationRate = rate;
                document.getElementById('mutationRate').textContent = rate;
            }
            
            updateStats() {
                document.getElementById('population').textContent = this.entities.length;
                document.getElementById('generation').textContent = this.generation;
                document.getElementById('mutations').textContent = this.totalMutations;
                document.getElementById('quantumEvents').textContent = this.quantumEvents;
                
                // Update species counter
                const species = {};
                this.entities.forEach(entity => {
                    species[entity.emoji] = (species[entity.emoji] || 0) + 1;
                });
                
                const counter = document.getElementById('speciesCounter');
                counter.innerHTML = Object.entries(species)
                    .map(([emoji, count]) => `<div class="species-badge">${emoji} ${count}</div>`)
                    .join('');
            }
            
            log(message) {
                const log = document.getElementById('evolutionLog');
                const entry = document.createElement('div');
                entry.className = 'log-entry';
                entry.innerHTML = message;
                log.appendChild(entry);
                log.scrollTop = log.scrollHeight;
                
                // Keep only last 50 entries
                while (log.children.length > 50) {
                    log.removeChild(log.firstChild);
                }
            }
        }
        
        // Initialize the quantum madness
        const game = new QuantumEmojiGame();
    </script>
</body>
</html>
